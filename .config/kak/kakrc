colorscheme solarized-dark

map global user e -docstring %{Open kakrc} ': e ~/.config/kak/kakrc <ret>'
map global user c -docstring %{Copy to clipboard} \
    '<a-|> vis-clipboard --copy<ret>'

add-highlighter global/ number-lines -relative -hlcursor 
add-highlighter global/ wrap -word -marker >| -indent
# Would prefer to highlight trailing whitespace insteads,
# but this should substitute for now.
addhl global/ show-whitespaces -spc ' '
face global LineNumberCursor header

# , should remove selections like in helix (and future kak?)
map global normal <space> ,
map global normal , <space>
map global normal <a-,> <a-space>
map global normal x <a-x>
map global normal <a-x> <a-X>

# https://github.com/Delapouite/kakoune-cd/blob/master/cd.kak
# %sh{dirname "${kak_buffile}"}

# Problem: ! not allowed in command names
# Could define a command with a long name and an alias
# define-command cq %{quit 1}
# define-command %{cq!} %{quit! 1}
# define-command cqa %{kill 1}

define-command -params 1 ft -docstring %{
        Shortcut for `set buffer filetype`
    } %{
        set buffer filetype %arg{1}
    }
define-command ft-py %{ ft python }
define-command ft-md %{ ft markdown }

define-command -params ..1 sh %{
    terminal sh -c "cd $1; ${2:-$SHELL}" \
    _unused_ %sh{dirname $kak_buffile} %arg[1]
}
# define-command -params ..1 sh  terminal sh -c "cd $1; $SHELL" _unused_ %sh{dirname $kak_buffile}
# terminal vim %val{buffile}
